For the working of the system see this:
https://docs.google.com/document/d/1y5iufcAPJh47Dg0y3KLaMnBdfrnnxQwoI4uhLux4jT8/edit?usp=sharing 
